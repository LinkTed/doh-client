#compdef doh-client

autoload -U is-at-least

_doh-client() {
    typeset -A opt_args
    typeset -a _arguments_options
    local ret=1

    if is-at-least 5.2; then
        _arguments_options=(-s -S -C)
    else
        _arguments_options=(-s -C)
    fi

    local context curcontext="$curcontext" state line
    _arguments "${_arguments_options[@]}" \
'(--listen-activation)-l+[Listen address \[default: 127.0.0.1:53\]]' \
'(--listen-activation)--listen-addr=[Listen address \[default: 127.0.0.1:53\]]' \
'-r+[Remote address/hostname to the DOH server (If a hostname is used then another DNS server has to be configured)]' \
'--remote-host=[Remote address/hostname to the DOH server (If a hostname is used then another DNS server has to be configured)]' \
'-d+[The domain name of the remote server]' \
'--domain=[The domain name of the remote server]' \
'--retries=[The number of retries to connect to the remote server]' \
'-t+[The time in seconds after that the connection would be closed if no response is received from the server]' \
'--timeout=[The time in seconds after that the connection would be closed if no response is received from the server]' \
'-p+[The path of the URI]' \
'--path=[The path of the URI]' \
'-c+[The size of the private HTTP cache
If the size is 0 then the private HTTP cache is not used (ignores cache-control)]' \
'--cache-size=[The size of the private HTTP cache
If the size is 0 then the private HTTP cache is not used (ignores cache-control)]' \
'--socks5=[Socks5 proxy URL
CAUTION: If a domain name is used instead of an IP address the system resolver will be used to resolve the IP address of the proxy. If the `doh-client` is configured as system resolver, then it will NOT WORK. It is recommended to always use an IP address for the socks proxy.
(example: socks5://user:password@example.com or socks5h://example.com)]' \
'--listen-activation[Use file descriptor 3 under Unix as UDP socket or launch_activate_socket() under Mac OS]' \
'-g[Use the GET method for the HTTP/2.0 request]' \
'--get[Use the GET method for the HTTP/2.0 request]' \
'--cache-fallback[Use expired cache entries if no response is received from the server]' \
'-h[Prints help information]' \
'--help[Prints help information]' \
'-V[Prints version information]' \
'--version[Prints version information]' \
'::cafile -- The path to the pem file, which contains the trusted CA certificates
If no path is given then the platform's native certificate store will be used:_files' \
&& ret=0
    
}

(( $+functions[_doh-client_commands] )) ||
_doh-client_commands() {
    local commands; commands=(
        
    )
    _describe -t commands 'doh-client commands' commands "$@"
}

_doh-client "$@"
